{"version":3,"sources":["index.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["refs","clockfaceDays","document","querySelector","clockfaceHours","clockfaceMins","clockfaceSecs","CountdownTimer","onTick","targetDate","Date","intervalId","setInterval","currentDate","now","deltaTime","time","getTimeComponents","clearInterval","console","log","timer","updateClockface","start","days","pad","Math","floor","hours","mins","secs","value","String","padStart","textContent","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","length","module"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"../src","sourcesContent":["import './styles.css';\n\nconst refs = {\n  clockfaceDays: document.querySelector('span[data-value=\"days\"]'),\n  clockfaceHours: document.querySelector('span[data-value=\"hours\"]'),\n  clockfaceMins: document.querySelector('span[data-value=\"mins\"]'),\n  clockfaceSecs: document.querySelector('span[data-value=\"secs\"]'),\n}\n\nclass CountdownTimer {\n  constructor({ onTick }) {\n    this.onTick = onTick;\n  }\n\n    start() {\n    const targetDate = new Date('May 13, 2022');\n    const intervalId = setInterval(() => {\n      const currentDate = Date.now();\n      const deltaTime = targetDate - currentDate;\n      const time = getTimeComponents(deltaTime);\n      // updateClockface(time);\n      this.onTick(time);\n      if (deltaTime <= 0) {\n        clearInterval(intervalId);\n        console.log('Акция окончена')\n};\n    }, 1000);\n  }\n}\n\n// const timer = {\n//   start() {\n//     const targetDate = new Date('May 13, 2022');\n//     const intervalId = setInterval(() => {\n//       const currentDate = Date.now();\n//       const deltaTime = targetDate - currentDate;\n//       const time = getTimeComponents(deltaTime);\n//       // console.log(`${days}:${hours}:${mins}:${secs}`);\n//       updateClockface(time);\n//       if (deltaTime <= 0) {\n//         clearInterval(intervalId);\n//         console.log('Акция окончена')\n// };\n//     }, 1000);\n//   }\n// }\n\nconst timer = new CountdownTimer({\n  onTick: updateClockface,\n});\n\ntimer.start()\n\nfunction getTimeComponents(time) {\n  const days = pad(Math.floor(time / (1000 * 60 * 60 * 24)));\n  const hours = pad(Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)));\n  const mins = pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\n  const secs = pad(Math.floor((time % (1000 * 60)) / 1000));\n  return {days, hours, mins, secs}\n}\n\nfunction pad(value) {\n  return String(value).padStart(2,'0')\n}\n\nfunction updateClockface({days, hours, mins, secs}) {\n  refs.clockfaceDays.textContent = `${days}`;\n  refs.clockfaceHours.textContent = `${hours}`;\n  refs.clockfaceMins.textContent = `${mins}`;\n  refs.clockfaceSecs.textContent = `${secs}`;\n}","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}